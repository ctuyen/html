<!-- AJAX -->
<!DOCTYPE html>
<html>
<head>
  <title>TODO list</title>
</head>
<body>
  <input id="new-item" type="text" />
  <button id="add-btn">Add</button>
  <ul id="todo-list">
    <!-- <li>Take shower</li>
    <li>Have a walk</li>
    <li>Go to bed</li> -->
  </ul>

  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script type="text/javascript">
    var url = 'http://localhost:9081/todos'; // url of database (from db.json)
    axios.get(url).then(function(response) {
      var items = response.data;
      console.log('Data loaded...',items);    
      render(items);
    });

    function render(items) {
      var htmlList = document.getElementById('todo-list');
      var content = items.map(function(item) {
        var id = items.indexOf(item);
        return '<li>' + item.content + '</li>';
      });
      htmlList.innerHTML = content.join('');
    }

    function deleteItem(id) {
      items.splice(id, 1);
      //axios.set();
      render();
    }
  </script>
</body>
</html>